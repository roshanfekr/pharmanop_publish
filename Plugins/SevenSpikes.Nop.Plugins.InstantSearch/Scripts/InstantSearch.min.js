!function (d) { d(document).ready(function () { var n, t, h = d(".instantSearchResourceElement"); 0 !== h.length && ((0 < d("#instant-search-categories").length || 0 < d("#instant-search-manufacturers").length || 0 < d("#instant-search-vendors").length) && (d(".search-box-text").addClass("narrow"), d(".store-search-box").addClass("with-caregory-search-enabled")), n = parseInt(h.attr("data-numberOfVisibleProducts")), t = d(".instantSearchResourceElement").attr("data-noResultsResourceText"), d("#small-searchterms").kendoAutoComplete({ highlightFirst: "true" === h.attr("data-highlightFirstFoundElement"), minLength: parseInt(h.attr("data-minKeywordLength")) || 0, enforceMinLength: !0, dataTextField: "ProductName", filter: "contains", noDataTemplate: t, popup: { appendTo: d("#small-search-box-form") }, template: kendo.template(d("#instantSearchItemTemplate").html()), height: "auto", dataSource: new kendo.data.DataSource({ serverFiltering: !0, schema: { data: "Products" }, requestStart: function () { d("#small-searchterms").addClass("instant-search-busy") }, change: function () { d("#small-searchterms").removeClass("instant-search-busy") }, transport: { read: { url: h.attr("data-instantSearchUrl"), complete: function (t) { t.success(function (t) { var a = d("#instantSearchShowAll"); 0 < a.length && a.remove(), d("#small-searchterms-list").append(t.ShowAllButtonHtml), d("#instantSearchShowAll").on("click", function (t) { t.preventDefault(), d(".search-box-button").click() }) }) } }, parameterMap: function () { return { q: d("#small-searchterms").val(), categoryId: d("#instant-search-categories").val(), manufacturerId: d("#instant-search-manufacturers").val(), vendorId: d("#instant-search-vendors").val() } } } }), change: function () { var t = d(".k-list").find(".k-state-selected").find(".instant-search-item").attr("data-url"); void 0 === t || setLocation(t) }, dataBound: function (t) { d("#small-searchterms").data("kendoAutoComplete").list.parent(".k-animation-container").addClass("instantSearch"), (0 < d("#instant-search-categories").length || 0 < d("#instant-search-manufacturers").length || 0 < d("#instant-search-vendors").length) && d(".k-animation-container").addClass("resize"), function () { var t = d("#small-searchterms_listbox").children().slice(0, n), a = 0; if (t.length === n) for (var e = 0; e < t.length; e++)a += d(t[e]).outerHeight(); 0 < a && d("#small-searchterms-list").css("height", a) }() } }), "false" === h.attr("data-highlightFirstFoundElement") && d("#small-search-box-form").on("keydown", function (t) { 13 === t.keyCode && d(this).submit() }), d("#small-search-box-form").submit(function (t) { var a, e, n, r, s, c = d("#instant-search-categories").val() || 0, o = d("#instant-search-manufacturers").val() || 0, i = d("#instant-search-vendors").val() || 0, l = d("#small-searchterms").val(); l && (a = h.attr("data-searchInProductDescriptions"), e = 0 < c || 0 < o || 0 < i || a, n = h.attr("data-searchPageUrl"), r = encodeURIComponent(l), s = h.attr("data-defaultProductSortOption"), window.location.href = n + "?adv=" + e + "&cid=" + c + "&mid=" + o + "&vid=" + i + "&q=" + r + "&sid=" + a + "&isc=true&orderBy=" + s), t.preventDefault() })) }) }(jQuery);